{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\Jin Sunwoo\\\\Desktop\\\\practicehtml\\\\Puzzle\\\\my-puzzle\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import'./App.css';import{useState,useEffect}from'react';import bluePiece from\"./images/blue.png\";import orangePiece from\"./images/orange.png\";import redPiece from\"./images/red.png\";import greenPiece from\"./images/green.png\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ogPieces=[{key:0,type:orangePiece,orientation:1,location:\"shuffled\"},{key:1,type:orangePiece,orientation:1,location:\"shuffled\"},{key:2,type:orangePiece,orientation:1,location:\"shuffled\"},{key:3,type:orangePiece,orientation:1,location:\"shuffled\"},{key:4,type:bluePiece,orientation:1,location:\"shuffled\"},{key:5,type:bluePiece,orientation:1,location:\"shuffled\"},{key:6,type:greenPiece,orientation:1,location:\"shuffled\"},{key:7,type:greenPiece,orientation:1,location:\"shuffled\"},{key:8,type:redPiece,orientation:1,location:\"shuffled\"}];function App(){var _useState=useState(ogPieces),_useState2=_slicedToArray(_useState,2),shuffled=_useState2[0],setShuffled=_useState2[1];var _useState3=useState([0,0,0,0,0,0,0,0,0]),_useState4=_slicedToArray(_useState3,2),board=_useState4[0],setBoard=_useState4[1];console.log(\"Shuffled: \",shuffled);var _useState5=useState({key:-1}),_useState6=_slicedToArray(_useState5,2),clickedPiece=_useState6[0],setClickedPiece=_useState6[1];var clickPiece=function clickPiece(piece,event){console.log(\"sender is :\",event.target);if(piece.location===\"shuffled\"){console.log(\"clickPiece\");if(clickedPiece.key===piece.key){setClickedPiece({key:-1});}else{setClickedPiece(piece);}}};var doubleClickPiece=function doubleClickPiece(event){console.log(\"doubleclick: \",event.currentTarget);console.log(event.currentTarget.id);var shuffledTemp=shuffled;var key=event.currentTarget.id;var pieceIndex=shuffledTemp.findIndex(function(piece){return piece.key==key;});if(shuffledTemp[pieceIndex].orientation<4){shuffledTemp[pieceIndex].orientation++;}else{shuffledTemp[pieceIndex].orientation=1;}setShuffled(shuffledTemp);};var clickBoard=function clickBoard(event){console.log(\"clickBoard\");console.log(\"This spot is \",event.currentTarget.getAttribute(\"id\"));var id=event.currentTarget.getAttribute(\"id\");var hasPiece=event.currentTarget.getAttribute(\"has-piece\");if(!(clickedPiece.key===-1)){if(hasPiece===\"No\"){event.currentTarget.setAttribute(\"has-piece\",\"Yes\");// Updating shuffled\nconsole.log(\"key is \",shuffled.findIndex(function(p){return p.key==clickedPiece.key;}));var index=shuffled.findIndex(function(p){return p.key==clickedPiece.key;});shuffled.splice(index,1);setShuffled(shuffled);// Updating the board\nclickedPiece.location=\"board\";board[id-1]=clickedPiece;setBoard(board);console.log(board);// reseting clicked piece\nsetClickedPiece({key:-1});}else{console.log(\"POOP\");}}else{if(hasPiece===\"Yes\"){event.currentTarget.setAttribute(\"has-piece\",\"No\");board[id-1].location=\"shuffled\";shuffled.push(board[id-1]);setShuffled(shuffled);board[id-1]=0;setBoard(board);setClickedPiece({key:-1});}}};useEffect(function(){console.log(\"called useeffect\");});var fillRow=function fillRow(spot,i,j){if(spot===0){return/*#__PURE__*/_jsx(\"td\",{id:i+j,\"has-piece\":\"No\",onClick:function onClick(e){clickBoard(e);},children:i+j},i+j);}else{return/*#__PURE__*/_jsx(\"td\",{id:i+j,\"has-piece\":\"No\",onClick:function onClick(e){clickBoard(e);},children:/*#__PURE__*/_jsx(Piece,{pieceDict:spot,clickPiece:clickPiece,clickBoard:clickBoard,clicked:false,doubleClickPiece:doubleClickPiece})},i+j);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"pieces\",children:shuffled.map(function(piece){return/*#__PURE__*/_jsx(Piece,{pieceDict:piece,clickPiece:clickPiece,clickBoard:clickBoard,clicked:piece.key===clickedPiece.key,doubleClickPiece:doubleClickPiece});})}),/*#__PURE__*/_jsx(\"table\",{children:/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsx(\"tr\",{children:board.slice(0,3).map(function(spot,i){return fillRow(spot,i,1);})},\"1\"),/*#__PURE__*/_jsx(\"tr\",{children:board.slice(3,6).map(function(spot,i){return fillRow(spot,i,4);})},\"2\"),/*#__PURE__*/_jsx(\"tr\",{children:board.slice(6,9).map(function(spot,i){return fillRow(spot,i,7);})},\"3\")]})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){console.log(shuffled);},children:\"Pieces\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){console.log(board,\"\\n\",document.querySelector(\"tbody\"));},children:\"Board\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){console.log(clickedPiece);},children:\"ClickedPiece\"})]})});}var Piece=function Piece(props){var pieceDict=props.pieceDict,clickPiece=props.clickPiece,clickBoardPiece=props.clickBoardPiece,clicked=props.clicked,doubleClickPiece=props.doubleClickPiece;switch(pieceDict.orientation){case 1:if(clicked){return/*#__PURE__*/_jsx(\"article\",{className:\"Clicked\",id:pieceDict.key,onClick:function onClick(e){clickPiece(pieceDict,e);},onDoubleClick:function onDoubleClick(e){doubleClickPiece(e);},children:/*#__PURE__*/_jsx(\"img\",{src:pieceDict.type,alt:\"\",style:{transform:\"rotate(0deg)\"}})},pieceDict.key);}else{return/*#__PURE__*/_jsx(\"article\",{id:pieceDict.key,onClick:function onClick(e){clickPiece(pieceDict,e);},onDoubleClick:function onDoubleClick(e){doubleClickPiece(e);},children:/*#__PURE__*/_jsx(\"img\",{src:pieceDict.type,alt:\"\",style:{transform:\"rotate(0deg)\"}})},pieceDict.key);}break;case 2:if(clicked){return/*#__PURE__*/_jsx(\"article\",{className:\"Clicked\",id:pieceDict.key,onClick:function onClick(e){clickPiece(pieceDict,e);},onDoubleClick:function onDoubleClick(e){doubleClickPiece(e);},children:/*#__PURE__*/_jsx(\"img\",{src:pieceDict.type,alt:\"\",style:{transform:\"rotate(90deg)\"}})},pieceDict.key);}else{return/*#__PURE__*/_jsx(\"article\",{id:pieceDict.key,onClick:function onClick(e){clickPiece(pieceDict,e);},onDoubleClick:function onDoubleClick(e){doubleClickPiece(e);},children:/*#__PURE__*/_jsx(\"img\",{src:pieceDict.type,alt:\"\",style:{transform:\"rotate(90deg)\"}})},pieceDict.key);}break;case 3:if(clicked){return/*#__PURE__*/_jsx(\"article\",{className:\"Clicked\",id:pieceDict.key,onClick:function onClick(e){clickPiece(pieceDict,e);},onDoubleClick:function onDoubleClick(e){doubleClickPiece(e);},children:/*#__PURE__*/_jsx(\"img\",{src:pieceDict.type,alt:\"\",style:{transform:\"rotate(180deg)\"}})},pieceDict.key);}else{return/*#__PURE__*/_jsx(\"article\",{id:pieceDict.key,onClick:function onClick(e){clickPiece(pieceDict,e);},onDoubleClick:function onDoubleClick(e){doubleClickPiece(e);},children:/*#__PURE__*/_jsx(\"img\",{src:pieceDict.type,alt:\"\",style:{transform:\"rotate(180deg)\"}})},pieceDict.key);}break;case 4:if(clicked){return/*#__PURE__*/_jsx(\"article\",{className:\"Clicked\",id:pieceDict.key,onClick:function onClick(e){clickPiece(pieceDict,e);},onDoubleClick:function onDoubleClick(e){doubleClickPiece(e);},children:/*#__PURE__*/_jsx(\"img\",{src:pieceDict.type,alt:\"\",style:{transform:\"rotate(270deg)\"}})},pieceDict.key);}else{return/*#__PURE__*/_jsx(\"article\",{id:pieceDict.key,onClick:function onClick(e){clickPiece(pieceDict,e);},onDoubleClick:function onDoubleClick(e){doubleClickPiece(e);},children:/*#__PURE__*/_jsx(\"img\",{src:pieceDict.type,alt:\"\",style:{transform:\"rotate(270deg)\"}})},pieceDict.key);}break;}};export default App;","map":{"version":3,"sources":["C:/Users/Jin Sunwoo/Desktop/practicehtml/Puzzle/my-puzzle/src/App.js"],"names":["useState","useEffect","bluePiece","orangePiece","redPiece","greenPiece","ogPieces","key","type","orientation","location","App","shuffled","setShuffled","board","setBoard","console","log","clickedPiece","setClickedPiece","clickPiece","piece","event","target","doubleClickPiece","currentTarget","id","shuffledTemp","pieceIndex","findIndex","clickBoard","getAttribute","hasPiece","setAttribute","p","index","splice","push","fillRow","spot","i","j","e","map","slice","document","querySelector","Piece","props","pieceDict","clickBoardPiece","clicked","transform"],"mappings":"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","sourcesContent":["import './App.css';\nimport {useState, useEffect} from 'react';\nimport bluePiece from \"./images/blue.png\";\nimport orangePiece from \"./images/orange.png\";\nimport redPiece from \"./images/red.png\";\nimport greenPiece from \"./images/green.png\";\n\nconst ogPieces = [\n  {\n    key: 0, type: orangePiece, orientation: 1, location: \"shuffled\"\n  },\n  {\n    key: 1, type: orangePiece, orientation: 1, location: \"shuffled\"\n  },\n  {\n    key: 2, type: orangePiece, orientation: 1, location: \"shuffled\"\n  },\n  {\n    key: 3, type: orangePiece, orientation: 1, location: \"shuffled\"\n  },\n  {\n    key: 4, type: bluePiece, orientation: 1, location: \"shuffled\"\n  },\n  {\n    key: 5, type: bluePiece, orientation: 1, location: \"shuffled\"\n  },\n  {\n    key: 6, type: greenPiece, orientation: 1, location: \"shuffled\"\n  },\n  {\n    key: 7, type: greenPiece, orientation: 1, location: \"shuffled\"\n  },\n  {\n    key: 8, type: redPiece, orientation: 1, location: \"shuffled\"\n  }\n]\n\nfunction App() {\n  const [shuffled, setShuffled] = useState(ogPieces);\n  const [board, setBoard] = useState([0,0,0,0,0,0,0,0,0]);\n  console.log(\"Shuffled: \", shuffled);\n\n  const [clickedPiece, setClickedPiece] = useState({key: -1});\n  \n  const clickPiece = (piece, event) => {\n    console.log(\"sender is :\", event.target);\n    if (piece.location === \"shuffled\") {\n      console.log(\"clickPiece\");\n      if (clickedPiece.key === piece.key) {\n        setClickedPiece({key: -1});\n      } else {\n        setClickedPiece(piece);\n      }\n    }\n  }\n\n  const doubleClickPiece = (event) => {\n    console.log(\"doubleclick: \", event.currentTarget);\n    console.log(event.currentTarget.id);\n    let shuffledTemp = shuffled;\n    let key = event.currentTarget.id;\n    let pieceIndex = shuffledTemp.findIndex(piece => piece.key == key);\n\n    if (shuffledTemp[pieceIndex].orientation < 4) {\n      shuffledTemp[pieceIndex].orientation++;\n    } else {\n      shuffledTemp[pieceIndex].orientation = 1;\n    }\n    setShuffled(shuffledTemp);\n  }\n\n  const clickBoard = (event) => {\n    console.log(\"clickBoard\");\n    console.log(\"This spot is \", event.currentTarget.getAttribute(\"id\"));\n    let id = event.currentTarget.getAttribute(\"id\")\n    let hasPiece = event.currentTarget.getAttribute(\"has-piece\");\n    if (!(clickedPiece.key === -1)) {\n      if (hasPiece === \"No\") {\n        event.currentTarget.setAttribute(\"has-piece\", \"Yes\");\n\n        // Updating shuffled\n        console.log(\"key is \", shuffled.findIndex(p => p.key == clickedPiece.key));\n        let index = shuffled.findIndex(p => p.key == clickedPiece.key);\n        shuffled.splice(index, 1);\n        setShuffled(shuffled);\n\n        // Updating the board\n        clickedPiece.location = \"board\";\n        board[id - 1] = clickedPiece;\n        setBoard(board);\n        console.log(board);\n\n        // reseting clicked piece\n        setClickedPiece({key: -1});\n      } else {\n        console.log(\"POOP\");\n      }\n    } else {\n      if (hasPiece === \"Yes\") {\n        event.currentTarget.setAttribute(\"has-piece\", \"No\");\n\n        board[id - 1].location = \"shuffled\";\n        shuffled.push(board[id -1]);\n        setShuffled(shuffled);\n\n        board[id - 1] = 0;\n        setBoard(board);\n\n        setClickedPiece({key: -1});\n      }\n    }\n  }\n  \n  useEffect(() => {\n    console.log(\"called useeffect\");\n  });\n  \n  const fillRow = (spot, i, j) => {\n    if (spot === 0) {\n      return (\n        <td\n          key={(i+j)}\n          id={(i+j)}\n          has-piece=\"No\"\n          onClick={(e) => {clickBoard(e)}}\n        >\n          {i+j}\n        </td>\n      )\n    } else {\n      return (\n        <td\n            key={(i+j)}\n            id={(i+j)}\n            has-piece=\"No\"\n            onClick={(e) => {clickBoard(e)}}\n        >\n          <Piece \n            pieceDict={spot}\n            clickPiece={clickPiece} \n            clickBoard={clickBoard}\n            clicked={false}\n            doubleClickPiece={doubleClickPiece}\n          />\n        </td>\n      )\n    }      \n  }\n\n  return (\n    <>\n      <div>\n        <div className='pieces'>\n          {shuffled.map((piece) => {\n              return (\n                <Piece \n                  pieceDict={piece} \n                  clickPiece={clickPiece} \n                  clickBoard={clickBoard}\n                  clicked={(piece.key === clickedPiece.key)}\n                  doubleClickPiece={doubleClickPiece}\n                />\n              )\n            }\n          )}\n        </div>\n        <table>\n          <tbody>\n            <tr key=\"1\">\n              {board.slice(0, 3).map((spot, i) => {\n                return fillRow(spot, i, 1);\n              })}\n            </tr>\n            <tr key=\"2\">\n              {board.slice(3, 6).map((spot, i) => {\n                return fillRow(spot, i, 4);\n              })}\n            </tr>\n            <tr key=\"3\">\n              {board.slice(6, 9).map((spot, i) => {\n                return fillRow(spot, i, 7);\n              })}\n            </tr>\n          </tbody>\n\n      </table>\n      <button onClick={() => {console.log(shuffled);}}>Pieces</button>\n      <button onClick={() => {console.log(board, \"\\n\", document.querySelector(\"tbody\"));}}>Board</button>\n      <button onClick={() => {console.log(clickedPiece)}}>ClickedPiece</button>\n\n      </div>\n    </>\n  );\n}\n\nconst Piece = (props) => {\n  const {pieceDict, clickPiece, clickBoardPiece, clicked, doubleClickPiece} = props;\n  switch(pieceDict.orientation) {\n    case 1:\n      if (clicked) {\n        return (\n          <article \n            className=\"Clicked\" \n            key={pieceDict.key}\n            id={pieceDict.key}\n            onClick={(e) => {clickPiece(pieceDict, e)}} \n            onDoubleClick={(e)=>{doubleClickPiece(e)}}\n          >\n            <img src={pieceDict.type} alt=\"\" style={{transform: \"rotate(0deg)\"}}/>\n          </article>\n          )\n      } else {\n        return (\n          <article \n            key={pieceDict.key}\n            id={pieceDict.key}\n            onClick={(e) => {clickPiece(pieceDict, e)}}\n            onDoubleClick={(e)=>{doubleClickPiece(e)}}\n          >\n            <img src={pieceDict.type} alt=\"\" style={{transform: \"rotate(0deg)\"}}/>\n          </article>\n        )\n      }\n      break;\n    case 2:\n      if (clicked) {\n        return (\n          <article \n            className=\"Clicked\" \n            key={pieceDict.key}\n            id={pieceDict.key}\n            onClick={(e) => {clickPiece(pieceDict, e)}} \n            onDoubleClick={(e)=>{doubleClickPiece(e)}}\n          >\n            <img src={pieceDict.type} alt=\"\" style={{transform: \"rotate(90deg)\"}}/>\n          </article>\n          )\n      } else {\n        return (\n          <article \n            key={pieceDict.key}\n            id={pieceDict.key}\n            onClick={(e) => {clickPiece(pieceDict, e)}}\n            onDoubleClick={(e)=>{doubleClickPiece(e)}}\n          >\n            <img src={pieceDict.type} alt=\"\" style={{transform: \"rotate(90deg)\"}}/>\n          </article>\n        )\n      }\n      break;\n    case 3:\n      if (clicked) {\n        return (\n          <article \n            className=\"Clicked\" \n            key={pieceDict.key}\n            id={pieceDict.key}\n            onClick={(e) => {clickPiece(pieceDict, e)}} \n            onDoubleClick={(e)=>{doubleClickPiece(e)}}\n          >\n            <img src={pieceDict.type} alt=\"\" style={{transform: \"rotate(180deg)\"}}/>\n          </article>\n          )\n      } else {\n        return (\n          <article \n            key={pieceDict.key}\n            id={pieceDict.key}\n            onClick={(e) => {clickPiece(pieceDict, e)}}\n            onDoubleClick={(e)=>{doubleClickPiece(e)}}\n          >\n            <img src={pieceDict.type} alt=\"\" style={{transform: \"rotate(180deg)\"}}/>\n          </article>\n        )\n      }\n      break;\n    case 4:\n      if (clicked) {\n        return (\n          <article \n            className=\"Clicked\" \n            key={pieceDict.key}\n            id={pieceDict.key}\n            onClick={(e) => {clickPiece(pieceDict, e)}} \n            onDoubleClick={(e)=>{doubleClickPiece(e)}}\n          >\n            <img src={pieceDict.type} alt=\"\" style={{transform: \"rotate(270deg)\"}}/>\n          </article>\n          )\n      } else {\n        return (\n          <article \n            key={pieceDict.key}\n            id={pieceDict.key}\n            onClick={(e) => {clickPiece(pieceDict, e)}}\n            onDoubleClick={(e)=>{doubleClickPiece(e)}}\n          >\n            <img src={pieceDict.type} alt=\"\" style={{transform: \"rotate(270deg)\"}}/>\n          </article>\n        )\n      }\n      break;\n  }\n  \n  \n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}